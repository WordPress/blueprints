{
	"$schema": "https://playground.wordpress.net/blueprint-schema.json",
	"meta": {
		"title": "Resetdataandimportcontent",
		"description": "Itresetsdedaultdatabeforeimportingcustomcontent",
		"author": "juanmaguitar",
		"categories": ["reset"]
	},
	"landingPage": "/wp-admin/edit.php",
	"steps": [
		{
			"step": "login",
			"username": "admin",
			"password": "password"
		},
		{
			"step": "runPHP",
			"code": "<?php /* runPHP1 */; require '/wordpress/wp-load.php'; function log_content_state ($message) { $args = array('post_type' => 'post', 'post_status' => 'publish', 'posts_per_page' => -1); $posts = get_posts($args); error_log($message); !empty($posts) ? error_log(count($posts) . ' posts - Last Post title: ' . $posts[count($posts) - 1]->post_title) : error_log('No posts found'); }; log_content_state('Last post by default');"
		},
		{
			"step": "resetData"
		},
		{
			"step": "runPHP",
			"code": "<?php /* runPHP2 */; require '/wordpress/wp-load.php'; log_content_state('Last post after resetData');"
		},
		{
			"step": "importWxr",
			"file": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/wordpress-juanmaguitar/blueprints/trunk/blueprints/reset-data-and-import-content/starter-content.xml"
			}
		},
		{
			"step": "runPHP",
			"code": "<?php /* runPHP3 */; require '/wordpress/wp-load.php'; log_content_state('Last post after importWxr');"
		}
	]
}
